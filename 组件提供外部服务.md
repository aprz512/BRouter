### FragmentManager

![FragmentManager](./img/fragmentManager.png)


### ComponentManager
![ComponentManager](./img/componentapplication_.png)



### 获取模块服务的两种方式

#### ARouter的实现

使用了一个Warehouse仓库，里面维护了所有实现了IProvider服务的map。

比如LoginService，对于实现类，必须加上Route注解，这样Arouter可以拿到该实现类的全路径，利用反射创建出LoginServiceImpl，并缓存在Warehouse中。

#### Component实现

使用专门的服务注解，如ServiceAnno，生成相应的服务辅助类，在辅助类中，以懒加载的方式将实例注册到ServiceManager中。其他模块通过ServiceManager获取对应的服务。每个模块对应一个Service辅助类，当模块被注册时，该模块对应的辅助类被注册，辅助类中维护的服务也会被注册到对应的管理模块，如ServiceManager，FragmentManager。



